(window.webpackJsonp=window.webpackJsonp||[]).push([[725],{2017:function(t,e,a){"use strict";a.r(e);var s=a(36),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"create-an-entando-platform-capability"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-an-entando-platform-capability"}},[t._v("#")]),t._v(" Create an Entando Platform Capability")]),t._v(" "),a("p",[t._v("An Entando Platform Capability, or EPC, is a packaged capability in the form of a bundle that adds functionality to the platform with additional UX controls. An EPC simplifies the addition of menu options, an API management page, or WCMS integration like Strapi, all from the App Builder. This tutorial demonstrates how to build a simple EPC from a React micro frontend bundle.")]),t._v(" "),a("h2",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),a("ul",[a("li",[t._v("A working instance of Entando")]),t._v(" "),a("li",[t._v("An existing "),a("RouterLink",{attrs:{to:"/v7.1/tutorials/create/mfe/react.html"}},[t._v("React MFE")])],1)]),t._v(" "),a("h2",{attrs:{id:"create-a-simple-epc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-simple-epc"}},[t._v("#")]),t._v(" Create a Simple EPC")]),t._v(" "),a("p",[t._v("Working with the "),a("RouterLink",{attrs:{to:"/v7.1/tutorials/create/mfe/react.html"}},[t._v("React MFE Tutorial")]),t._v(", the following steps convert the React bundle into an EPC by modifying the bundle descriptor and customizing the public path to serve static assets.")],1),t._v(" "),a("h3",{attrs:{id:"configure-the-bundle-descriptor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-bundle-descriptor"}},[t._v("#")]),t._v(" Configure the Bundle Descriptor")]),t._v(" "),a("p",[t._v("Edit the bundle descriptor "),a("code",[t._v("entando.json")]),t._v(" in the root bundle directory.")]),t._v(" "),a("ol",[a("li",[t._v("Change the "),a("code",[t._v("type")]),t._v(" to "),a("code",[t._v("app-builder")]),t._v(":")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('  "type": "app-builder" \n')])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[t._v("Remove the "),a("code",[t._v("titles")]),t._v(" attribute")])]),t._v(" "),a("li",[a("p",[t._v("Add the fields in the code snippet below:")])])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"slot"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"paths"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/YOUR-MFE-NAME"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"nav"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"label"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"YOUR EPC LABEL IN ENGLISH"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"it"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"YOUR EPC LABEL IN ITALIAN"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"target"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"internal"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/YOUR-MFE-NAME"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    \n")])])]),a("ul",[a("li",[a("code",[t._v("type")]),t._v(": Use "),a("code",[t._v("app-builder")]),t._v(" for an EPC")]),t._v(" "),a("li",[a("code",[t._v("slot")]),t._v(": Placement of the EPC on a page")]),t._v(" "),a("li",[a("code",[t._v("paths")]),t._v(": The URL path to the EPC in the App Builder. An external URL can be entered")]),t._v(" "),a("li",[a("code",[t._v("nav")]),t._v(": The visible label for the navigation item in the App Builder Menu")])]),t._v(" "),a("p",[t._v("For more details on attributes, see the "),a("RouterLink",{attrs:{to:"/v7.1/docs/curate/bundle-details.html#micro-frontends-specifications"}},[t._v("Bundle Details")]),t._v(" page.")],1),t._v(" "),a("p",[a("strong",[t._v("Note")]),t._v(": To continue with the same name as the React bundle, update the version number in the bundle descriptor "),a("code",[t._v("entando.json")]),t._v(". Otherwise, change the bundle name to avoid name conflicts in your Local Hub.")]),t._v(" "),a("h3",{attrs:{id:"optional-configure-the-custom-element-paths"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optional-configure-the-custom-element-paths"}},[t._v("#")]),t._v(" Optional: Configure the Custom Element Paths")]),t._v(" "),a("p",[t._v("If you have static assets such as images or PDFs in your MFE, modify the "),a("code",[t._v("public-path.js")]),t._v(" file in the "),a("code",[t._v("microfrontends/YOUR-MFE-NAME/src/custom-elements")]),t._v(" directory.")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Retrieve the bundle ID using your information for the fields in all-caps:")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("ent ecr get-bundle-id https://registry.hub.docker.com/YOUR-DOCKER-ORGANIZATION/YOUR-BUNDLE-NAME\n")])])]),a("p",[a("code",[t._v("YOUR-BUNDLE-ID")]),t._v(" will be an 8-digit string of numbers and letters.")])]),t._v(" "),a("li",[a("p",[t._v("Determine the bundle and widget codes. The CODE is simply the name followed by a dash and "),a("code",[t._v("YOUR-BUNDLE-ID")]),t._v(".")]),t._v(" "),a("p",[t._v("YOUR-BUNDLE-CODE: "),a("code",[t._v("YOUR-BUNDLE-NAME")]),t._v("-"),a("code",[t._v("YOUR-BUNDLE-ID")]),a("br"),t._v("\nYOUR-WIDGET-CODE: "),a("code",[t._v("YOUR-WIDGET-NAME")]),t._v("-"),a("code",[t._v("YOUR-BUNDLE-ID")])]),t._v(" "),a("p",[t._v("e.g. With a bundle named "),a("code",[t._v("bundleOne")]),t._v(", a widget named "),a("code",[t._v("mfeTwo")]),t._v(", and bundle ID of "),a("code",[t._v("4986eb9c")]),t._v(":\nYOUR-BUNDLE-CODE: "),a("code",[t._v("bundleOne-4986eb9c")]),a("br"),t._v("\nYOUR-WIDGET-CODE: "),a("code",[t._v("mfeTwo-4986eb9c")])])]),t._v(" "),a("li",[a("p",[t._v("Using your CODEs, replace the contents of "),a("code",[t._v("public-path.js")]),t._v(" with the following:")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" publicpath "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/entando-de-app/cmsresources/bundles/YOUR-BUNDLE-CODE/widgets/YOUR-WIDGET-CODE/'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eslint-disable-next-line no-undef")]),t._v("\n    __webpack_public_path__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" publicpath "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("e.g. for the example from Step 2:"),a("br"),t._v(" "),a("code",[t._v("publicpath = '/entando-de-app/cmsresources/bundles/bundleOne-4986eb9c/widgets/mfeTwo-4986eb9c/'")])]),t._v(" "),a("h3",{attrs:{id:"build-and-install-the-epc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-and-install-the-epc"}},[t._v("#")]),t._v(" Build and Install the EPC")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("From the root directory, "),a("RouterLink",{attrs:{to:"/v7.1/tutorials/create/pb/publish-project-bundle.html"}},[t._v("build and install")]),t._v(" the bundle:\n"),a("EntandoInstall71")],1)]),t._v(" "),a("li",[a("p",[t._v("Log in to your App Builder to see the new EPC:")]),t._v(" "),a("ul",[a("li",[t._v("Go to "),a("code",[t._v("EPC")]),t._v(" from the left menu and choose "),a("code",[t._v("Uncategorized")])]),t._v(" "),a("li",[t._v("Click on your EPC "),a("code",[t._v("label")]),a("br"),t._v("\nYou should see the spinning React logo inside the App Builder.")])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Congratulations!")]),t._v(" "),a("p",[t._v("You now have an EPC running on Entando!")])]),t._v(" "),a("p",[a("strong",[t._v("Next Steps")])]),t._v(" "),a("ul",[a("li",[t._v("Learn how to utilize "),a("RouterLink",{attrs:{to:"/v7.1/tutorials/create/mfe/context-params.html"}},[t._v("Entando MFE Context Parameters")]),t._v(" to extend your micro frontends.")],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/v7.1/tutorials/devops/plugin-environment-variables.html"}},[t._v("Use Plugin Environment Variables to Customize Microservices")])],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);