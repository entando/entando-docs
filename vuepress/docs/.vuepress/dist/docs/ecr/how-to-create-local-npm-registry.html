<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Create a local NPM registry for testing</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="Entando Tutorials">
    <link rel="preload" href="/docs/assets/css/0.styles.4ae98744.css" as="style"><link rel="preload" href="/docs/assets/js/app.ac2606e0.js" as="script"><link rel="preload" href="/docs/assets/js/2.2b69620a.js" as="script"><link rel="preload" href="/docs/assets/js/27.8bed9c1c.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.8dc8f3bf.js"><link rel="prefetch" href="/docs/assets/js/11.e004b62f.js"><link rel="prefetch" href="/docs/assets/js/12.bb9a08de.js"><link rel="prefetch" href="/docs/assets/js/13.cae62e3b.js"><link rel="prefetch" href="/docs/assets/js/14.2b5cc2d2.js"><link rel="prefetch" href="/docs/assets/js/15.02ad98b7.js"><link rel="prefetch" href="/docs/assets/js/16.46ac37a5.js"><link rel="prefetch" href="/docs/assets/js/17.428fe847.js"><link rel="prefetch" href="/docs/assets/js/18.ea0cd3a9.js"><link rel="prefetch" href="/docs/assets/js/19.409eeea8.js"><link rel="prefetch" href="/docs/assets/js/20.2bc20242.js"><link rel="prefetch" href="/docs/assets/js/21.3b80a102.js"><link rel="prefetch" href="/docs/assets/js/22.cd4f7af7.js"><link rel="prefetch" href="/docs/assets/js/23.10ec089c.js"><link rel="prefetch" href="/docs/assets/js/24.5a44fbee.js"><link rel="prefetch" href="/docs/assets/js/25.7c23e591.js"><link rel="prefetch" href="/docs/assets/js/26.8bb62150.js"><link rel="prefetch" href="/docs/assets/js/28.c63a9aea.js"><link rel="prefetch" href="/docs/assets/js/29.12e3649d.js"><link rel="prefetch" href="/docs/assets/js/3.89dec58e.js"><link rel="prefetch" href="/docs/assets/js/30.2179a668.js"><link rel="prefetch" href="/docs/assets/js/31.2c4d4680.js"><link rel="prefetch" href="/docs/assets/js/32.5eadfbf6.js"><link rel="prefetch" href="/docs/assets/js/33.79d6a5b3.js"><link rel="prefetch" href="/docs/assets/js/34.42c85203.js"><link rel="prefetch" href="/docs/assets/js/35.0254db92.js"><link rel="prefetch" href="/docs/assets/js/36.74812f8b.js"><link rel="prefetch" href="/docs/assets/js/37.90a1952b.js"><link rel="prefetch" href="/docs/assets/js/38.b73b14da.js"><link rel="prefetch" href="/docs/assets/js/39.b67ce936.js"><link rel="prefetch" href="/docs/assets/js/4.b2bc02cb.js"><link rel="prefetch" href="/docs/assets/js/40.a5bf1d86.js"><link rel="prefetch" href="/docs/assets/js/41.6649141c.js"><link rel="prefetch" href="/docs/assets/js/42.1f69836a.js"><link rel="prefetch" href="/docs/assets/js/43.6c0527ba.js"><link rel="prefetch" href="/docs/assets/js/44.3bbd73a8.js"><link rel="prefetch" href="/docs/assets/js/45.5ae9d47f.js"><link rel="prefetch" href="/docs/assets/js/46.5ed0be82.js"><link rel="prefetch" href="/docs/assets/js/5.78a559b5.js"><link rel="prefetch" href="/docs/assets/js/6.7faebc8a.js"><link rel="prefetch" href="/docs/assets/js/7.e9ba50de.js"><link rel="prefetch" href="/docs/assets/js/8.0673201b.js"><link rel="prefetch" href="/docs/assets/js/9.5d0c1414.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.4ae98744.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/entando-labs.svg" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://docs.entando.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://forum.entando.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.entando.com/page/en/modern_applications_blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://www.entando.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Entando.com
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/entando" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/entando/entando-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://docs.entando.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://forum.entando.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.entando.com/page/en/modern_applications_blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://www.entando.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Entando.com
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/entando" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/entando/entando-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/docs/" class="sidebar-heading clickable router-link-active"><span>Getting Started</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Platform Capabilities</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>App Builder</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Component Generator</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>App Engine</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/ecr" class="sidebar-heading clickable router-link-active open"><span>Component Repository</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/ecr/how-to-create-local-npm-registry.html" class="active sidebar-link">Create a local NPM registry for testing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/ecr/how-to-create-local-npm-registry.html#start-local-nexus-as-a-docker-container" class="sidebar-link">Start local nexus as a docker container</a></li><li class="sidebar-sub-header"><a href="/docs/ecr/how-to-create-local-npm-registry.html#setup-a-private-npm-registry" class="sidebar-link">Setup a private npm registry</a></li><li class="sidebar-sub-header"><a href="/docs/ecr/how-to-create-local-npm-registry.html#setup-npm-realm-and-user-for-publishing" class="sidebar-link">Setup npm-realm and user for publishing</a></li><li class="sidebar-sub-header"><a href="/docs/ecr/how-to-create-local-npm-registry.html#create-the-role" class="sidebar-link">Create the role</a></li><li class="sidebar-sub-header"><a href="/docs/ecr/how-to-create-local-npm-registry.html#create-the-user" class="sidebar-link">Create the user</a></li><li class="sidebar-sub-header"><a href="/docs/ecr/how-to-create-local-npm-registry.html#enable-npm-realm-to-support-npm-adduser-or-npm-login" class="sidebar-link">Enable npm realm to support npm adduser or npm login</a></li><li class="sidebar-sub-header"><a href="/docs/ecr/how-to-create-local-npm-registry.html#configure-npm" class="sidebar-link">Configure NPM</a></li><li class="sidebar-sub-header"><a href="/docs/ecr/how-to-create-local-npm-registry.html#config-npm-to-use-the-local-repository" class="sidebar-link">Config npm to use the local repository</a></li><li class="sidebar-sub-header"><a href="/docs/ecr/how-to-create-local-npm-registry.html#login-to-the-registry" class="sidebar-link">Login to the registry</a></li><li class="sidebar-sub-header"><a href="/docs/ecr/how-to-create-local-npm-registry.html#good-to-go" class="sidebar-link">Good to go</a></li><li class="sidebar-sub-header"><a href="/docs/ecr/how-to-create-local-npm-registry.html#set-the-publish-repository-at-package-json-level" class="sidebar-link">Set the publish repository at package.json level</a></li></ul></li><li><a href="/docs/ecr/how-to-setup-nexus-on-kubernetes-cluster.html" class="sidebar-link">How to setup a Nexus instance on a Kubernetes cluster</a></li><li><a href="/docs/ecr/tutorials/create-ecr-bundle.html" class="sidebar-link">Tutorial: How to create a digital-exchange bundle</a></li><li><a href="/docs/ecr/tutorials/from-blueprint-to-de.html" class="sidebar-link">From Blueprint to the Entando Component Repository (ECR) bundle</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>WCMS</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Concepts</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/release-notes/" class="sidebar-link">Release Notes</a></li><li><a href="/docs/old-versions/" class="sidebar-link">Old Versions</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="create-a-local-npm-registry-for-testing"><a href="#create-a-local-npm-registry-for-testing" class="header-anchor">#</a> Create a local NPM registry for testing</h1> <p>As a registry you can use whatever technology you prefer. Some examples
are the <a href="https://npmjs.org" target="_blank" rel="noopener noreferrer">NPM official registry<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
<a href="https://github.com/verdaccio/verdaccio" target="_blank" rel="noopener noreferrer">Verdaccio<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or
<a href="https://github.com/sonatype/nexus-public" target="_blank" rel="noopener noreferrer">Nexus<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>For development purposes, let’s start a local Nexus repository and set
it up as NPM registry</p> <h2 id="start-local-nexus-as-a-docker-container"><a href="#start-local-nexus-as-a-docker-container" class="header-anchor">#</a> Start local nexus as a docker container</h2> <p>Start by creating a volume to host all the data you will build in nexus.
This is useful to save the content even if you will remove the docker
container. You can follow two different approaches here: 1. You create a
docker volume and mount it (that’s the sonatype recommanded approach) 2.
You create a folder, change the modification to 777 and use that as a
volume</p> <p>By following the first approach, here are the commands you will need to
issue in order to run Nexus as a docker container using the docker
command</p> <div class="language- extra-class"><pre><code>docker volume create --name nexus-data
docker run -d -p 8081:8081 --name nexus -v nexus-data:/nexus-data sonatype/nexus3
</code></pre></div><p>With the second approach, create a directory (e.g. <code>nexus-data</code>) and set
the own to UID 200</p> <div class="language- extra-class"><pre><code>mkdir nexus-data &amp;&amp; chown -R 200:200 nexus-data
docker run -d -p 8081:8081 --name nexus -v &quot;$(pwd)/nexus-data&quot;:/nexus-data sonatype/nexus3
</code></pre></div><p>Nexus should be available at your localhost at port 8081</p> <p>Now you need to sign-in as an admin to configure Nexus and make it
usable as a private npm repository. To do so, you need to get the admin
credential from inside the container.</p> <div class="language- extra-class"><pre><code>docker exec -it nexus cat /nexus-data/admin.password
</code></pre></div><p>Now you can use the password to access your private nexus instance as an
admin and change the admin password to something easier for you to work
with.</p> <h2 id="setup-a-private-npm-registry"><a href="#setup-a-private-npm-registry" class="header-anchor">#</a> Setup a private npm registry</h2> <blockquote><p><strong>NOTE</strong>: Nexus allows you to setup both a private registry and a
proxy to an external registry. For development purposes, having only a
private registry could make sense in order to retrieve only local
modules and not modules available on remote registries, though feel
free to setup also a proxy if you want to get access to npm modules
outside of the private registry. Check out the
<a href="https://help.sonatype.com/repomanager3/formats/npm-registry==NpmRegistry-ProxyingnpmRegistries" target="_blank" rel="noopener noreferrer">documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
on nexus website for further details.</p></blockquote> <p>To setup a local repository: 1. Go to the
<code>Server administration and configuration</code> page 2. Go to repositories 3.
Create a new repository 4. Choose the <strong>npm (hosted)</strong> 5. Provide a name
and save</p> <blockquote><p><strong>NOTE</strong>: If you want you can also create a group repository to
support search from multiple sources (local/proxies) at the same time.</p></blockquote> <h2 id="setup-npm-realm-and-user-for-publishing"><a href="#setup-npm-realm-and-user-for-publishing" class="header-anchor">#</a> Setup npm-realm and user for publishing</h2> <p>In order to be able to login and publish into a repository you need to</p> <ol><li>Create a role to enable user publishing 2. Create a user and assign
roles to them 3. Enable the NPM realm to support <code>npm adduser</code> or
<code>npm login</code> commands</li></ol> <h2 id="create-the-role"><a href="#create-the-role" class="header-anchor">#</a> Create the role</h2> <ul><li><p>Go to <code>Security &gt; Roles &gt; Create role &gt; Nexus Role</code></p></li> <li><p>Choose a role ID and name</p></li> <li><p>In the privileges, add the one required for publishing, e.g.
<code>nx-repository-view-npm-&lt;your-repo&gt;-*</code></p></li> <li><p>Save</p></li></ul> <h2 id="create-the-user"><a href="#create-the-user" class="header-anchor">#</a> Create the user</h2> <ul><li><p>Go to <code>Security &gt; Users &gt; Create local user</code></p></li> <li><p>Add the relevant informations for your user, set the user <code>Active</code>
and add the role you created in the previous step</p></li></ul> <h2 id="enable-npm-realm-to-support-npm-adduser-or-npm-login"><a href="#enable-npm-realm-to-support-npm-adduser-or-npm-login" class="header-anchor">#</a> Enable npm realm to support <code>npm adduser</code> or <code>npm login</code></h2> <ul><li><p>Go to <code>Security &gt; Realms</code></p></li> <li><p>Add <code>the npm Bearer Token Realm</code> to the active column</p></li></ul> <h2 id="configure-npm"><a href="#configure-npm" class="header-anchor">#</a> Configure NPM</h2> <h2 id="config-npm-to-use-the-local-repository"><a href="#config-npm-to-use-the-local-repository" class="header-anchor">#</a> Config npm to use the local repository</h2> <p>In order to use the private repository as default repository you need to
configure npm accordingly (or use the <code>--registry=</code> option with all your
commands)</p> <div class="language- extra-class"><pre><code>npm config set registry http://localhost:8081/repository/&lt;repo-name&gt;/
</code></pre></div><blockquote><p><strong>Note A</strong>: The trailing slash at the end of the repository is
required for the repository to work</p></blockquote> <blockquote><p><strong>Note B</strong>: This repository will be used for all the npm methods, so
bare in mind that changing the global repository will potentially
break other projects. If you want to avoid this, continue to use the
<code>--registry</code> option.</p></blockquote> <h2 id="login-to-the-registry"><a href="#login-to-the-registry" class="header-anchor">#</a> Login to the registry</h2> <p>You should be able to login to the registry using the login command</p> <div class="language- extra-class"><pre><code>npm login --registry=http://localhost:8081/repository/&lt;repo-name&gt;/
</code></pre></div><h2 id="good-to-go"><a href="#good-to-go" class="header-anchor">#</a> Good to go</h2> <p>You can now publish your own npm modules to the private registry using
the `npm publish
--registry=http://localhost:8081/repository/&lt;repo-name&gt;/`command.</p> <h2 id="set-the-publish-repository-at-package-json-level"><a href="#set-the-publish-repository-at-package-json-level" class="header-anchor">#</a> Set the publish repository at package.json level</h2> <p>In your npm module you can also add to the <code>package.json</code> an entry to
make the private repository the default for publishing. Add this to your
package.json file</p> <div class="language- extra-class"><pre><code>  &quot;publishConfig&quot;: {
    &quot;registry&quot;: &quot;http://localhost:8081/repository/&lt;repo-name&gt;/&quot;
  }
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/entando/entando-docs/edit/master/vuepress/docs/ecr/how-to-create-local-npm-registry.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/27/2020, 8:31:29 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/app-engine/tutorials/invoking-api.html" class="prev">
        Tutorial: Invoking Entando Core APIs
      </a></span> <span class="next"><a href="/docs/ecr/how-to-setup-nexus-on-kubernetes-cluster.html">
        How to setup a Nexus instance on a Kubernetes cluster
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.ac2606e0.js" defer></script><script src="/docs/assets/js/2.2b69620a.js" defer></script><script src="/docs/assets/js/27.8bed9c1c.js" defer></script>
  </body>
</html>
